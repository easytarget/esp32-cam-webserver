const cameraTypes = [{"pid": 38,
                      "name": "OV2640",
                      "optionfilters": {"hide": [{"field": "framesize", 
                                                  "options": [14,17]
                                                 }]
                                       } } ,
                      {"pid": 13920,
                      "name": "OV3660",
                      "fieldupdates": 
                                {"update": [{"id": "quality", "changes": {"min_value": "4"}},
                                            {"id": "brightness", "changes": {"min_value": "-3","min_caption": "-3",
                                                                             "max_value": "3", "max_caption": "3"}},
                                            {"id": "contrast", "changes": {"min_value": "-3", "min_caption": "-3",
                                                                           "max_value": "3", "max_caption": "3"}},
                                            {"id": "saturation", "changes": {"min_value": "-4","min_caption": "-4",
                                                                             "max_value": "4", "max_caption": "4"}},
                                            {"id": "ae_level", "changes": {"min_value": "-5","min_caption": "-5",
                                                                             "max_value": "5", "max_caption": "5"}},
                                            {"id": "gainceiling", "changes": {"min_caption": "0", 
                                                                              "max_value": "511", "max_caption": "511"}},
                                            {"id": "aec_value", "changes": {"max_value": "1536", "max_caption": "1536",
                                                                            "default_value": "320"}},
                                            {"id": "agc_gain", "changes": {"max_value": "63", "max_caption": "64x"}}],
                                 "create": [{"id": "sharpness", "name": "Sharpness", "after": "saturation",
                                            "control": "range", 
                                            "min_value": "-3", "max_value": "3", "default_value": "0", 
                                            "min_caption": "-3", "max_caption":"3", 
                                            "classes": "default-action",
                                            "simple":"true"},
                                            {"id": "denoise", "name": "De-Noise", "after": "sharpness",
                                            "control": "range", 
                                            "min_value": "0", "max_value": "8", "default_value": "0", 
                                            "min_caption": "Auto", "max_caption":"8", 
                                            "classes": "default-action"}]
                                } }
                    ];

const selectOptions = [{"field": "framesize", 
                        "options": [{"id": 0, "name": "THUMB 1:1 (96x96)"},
                                     {"id": 1, "name": "QQVGA 4:3 (160x120)"},
                                     {"id": 3, "name": "HQVGA 4:3 (240x176)"},
                                     {"id": 3, "name": "HQVGA 4:3 (240x176)"},
                                     {"id": 5, "name": "QVGA 4:3 (320x240)"},
                                     {"id": 6, "name": "CIF 4:3 (400x296)"},
                                     {"id": 7, "name": "HVGA 4:3 (480x320)"},
                                     {"id": 8, "name": "VGA 4:3 (640x480)"},
                                     {"id": 9, "name": "SVGA 4:3 (800x600)"},
                                     {"id": 10, "name": "XGA 4:3 (1024x768)"},
                                     {"id": 11, "name": "HD 16:9 (1280x720)"},
                                     {"id": 12, "name": "SXGA 4:3 (1280x1024)"},
                                     {"id": 13, "name": "UXGA 4:3 (1600x1200)"},
                                     {"id": 14, "name": "FHD 16:9 (1920x1080)"},
                                     {"id": 17, "name": "QXGA 4:3 (2048x1536)"}]},
                        {"field": "special_effect",
                         "options": [{"id": 0, "name": "No Effect"},
                                            {"id": 1, "name": "Negative"},
                                            {"id": 2, "name": "Grayscale"},
                                            {"id": 3, "name": "Red Tint"},
                                            {"id": 4, "name": "Green Tint"},
                                            {"id": 5, "name": "Blue Tint"},
                                            {"id": 6, "name": "Sepia"}]},
                        {"field": "wb_mode",
                         "options": [{"id": 0, "name": "Auto"},
                                     {"id": 1, "name": "Sunny"},
                                     {"id": 2, "name": "Cloudy"},
                                     {"id": 3, "name": "Office"},
                                     {"id": 4, "name": "Home"}]},
                        {"field": "rotate",
                         "options": [{"id": 90, "name": "90&deg; (Right)"},
                                    {"id": 0, "name": "0&deg; (None)"},
                                    {"id": -90, "name": "-90&deg; (Left)"}]}];


var cameraFormFields = [{"id": "lamp", "name": "Light", "control": "range",
                           "title":"Flashlight LED.&#013;&#013;Warning:&#013;Built-In lamps can be Very Bright! Avoid looking directly at LED&#013;Can draw a lot of power and may cause visual artifacts, affect WiFi or even brownout the camera on high settings",
                           "min_value": "0", "max_value": "100", "default_value": "0",  
                           "min_caption": "Off", "max_caption":"<span style=\"font-size: 125%;\">&#9888;</span>Full", 
                           "classes": "default-action",
                           "show": "lamp autolamp flashlamp", 
                           "simple":"true"},
                           {"id": "autolamp", "name": "Auto Lamp", "control": "switch",
                           "title":"When enabled the lamp will flash when taking the still image",
                           "classes": "default-action", 
                           "show": "flashlamp",
                           "simple":"true"},
                           {"id": "flashlamp", "name": "Flash", "control": "range",
                           "title":"Flashlight LED.&#013;&#013;Warning:&#013;Built-In lamps can be Very Bright! Avoid looking directly at LED&#013;Can draw a lot of power and may cause visual artifacts, affect WiFi or even brownout the camera on high settings",
                           "min_value": "0", "max_value": "100", "default_value": "0",  
                           "min_caption": "0%", "max_caption":"100%", 
                           "classes": "default-action",
                           "simple":"true"},
                           {"id": "framesize", "name": "Resolution", "control": "select",
                           "title":"Camera resolution",
                           "classes": "default-action", 
                           "simple":"true"},
                           {"id": "frame_rate", "name": "Frame Rate", "control": "text", "type": "number",
                           "title":"Frame rate&#013;Use this for a smoother stream and to reduce load on the WiFi and browser",
                           "min_value":"2", "max_value":"60", "default_value": "25",
                           "max_caption": "FPS",
                           "classes": "default-action", 
                           "simple":"true"},
                           {"id": "quality", "name": "Quality", "control": "range",
                           "title":"Camera Image and Stream quality factor&#013;Higher settings will result in lower framerates",
                           "min_value": "6", "max_value": "63", "default_value": "10", 
                           "min_caption": "Low", "max_caption":"High", 
                           "classes": "default-action", 
                           "simple":"true"},
                           {"id": "xclk", "name": "XCLK", "control": "text", "type": "number",
                           "title":"Camera Bus Clock Frequency&#013;Increasing this will raise the camera framerate and capture speed&#013;&#013;Raising too far will result in visual artifacts and/or incomplete frames&#013;This setting can vary a lot between boards, budget boards typically need lower values",
                           "min_value": "2", "max_value": "32", "default_value": "8", "size": "3", "step": "1", 
                           "max_caption":"MHz", 
                           "classes": "default-action"},
                           {"id": "brightness", "name": "Brightness", "control": "range",
                           "min_value": "-2", "max_value": "2", "default_value": "0", 
                           "min_caption": "-2", "max_caption":"2", 
                           "classes": "default-action", 
                           "simple":"true"},
                           {"id": "contrast", "name": "Contrast", "control": "range",
                           "min_value": "-2", "max_value": "2", "default_value": "0", 
                           "min_caption": "-2", "max_caption":"2", 
                           "classes": "default-action",
                           "simple":"true"},
                           {"id": "saturation", "name": "Saturation", "control": "range",
                           "min_value": "-2", "max_value": "2", "default_value": "0", 
                           "min_caption": "-2", "max_caption":"2", 
                           "classes": "default-action",
                           "simple":"true"},
                           {"id": "special_effect", "name": "Special Effect", "control": "select",
                           "classes": "default-action"},
                           {"id": "awb", "name": "AWB Enable", "control": "switch",
                           "classes": "default-action"},
                           {"id": "awb_gain", "name": "Manual AWB Gain", "control": "switch",
                           "classes": "default-action",
                           "show":"wb_mode"},
                           {"id": "wb_mode", "name": "WB Mode", "control": "select",
                           "classes": "default-action"},
                           {"id": "aec", "name": "AEC Sensor Enable", "control": "switch",
                           "title": "Automatic Exposure If you are shooting in daylight, leave the AEC Sensor on. The purpose of this is usually to help to bring out details in the darker parts of images. Or if taking pictures with a bright background.",
                           "classes": "default-action", 
                           "hide":"aec_value"},
                           {"id": "aec2", "name": "AEC DSP", "control": "switch",
                           "title":"Applies Digital Signal Processing to the Automatic Exposure Control",
                           "classes": "default-action"},
                           {"id": "ae_level", "name": "AE Level", "control": "range",
                           "min_value": "-2", "max_value": "2", "default_value": "0", 
                           "min_caption": "-2", "max_caption":"2", 
                           "classes": "default-action"},
                           {"id": "aec_value", "name": "Exposure", "control": "range",
                           "title":"Direct control over the exposure. Which is an ISO-like option from 0 to 1200. &#013;In daylight, anything above about 50 will result in a mostly white image. Your best option is to set AEC and use the AE Level to push it a little as necessary. ",
                           "min_value": "0", "max_value": "1200", "default_value": "204", 
                           "min_caption": "0", "max_caption":"1200", 
                           "classes": "default-action"},
                           {"id": "agc", "name": "AGC", "control": "switch",
                           "title": "This sets the Automatic Gain Control, how the camera responds to the overall level of light in the image. This is best left on.", 
                           "classes": "default-action", 
                           "hide":"agc_gain", "show":"gainceiling"},
                           {"id": "agc_gain", "name": "Gain", "control": "range",
                           "title": "Amplification of the values read from the image sensor. ",
                           "min_value": "0", "max_value": "30", "default_value": "5", 
                           "min_caption": "1x", "max_caption":"31x", 
                           "classes": "default-action"},
                           {"id": "gainceiling", "name": "Gain Ceiling", "control": "range",
                           "title": "This might have some effect in the dark. In daylight it doesn't do anything. ",
                           "min_value": "0", "max_value": "6", "default_value": "0", 
                           "min_caption": "2x", "max_caption":"128x", 
                           "classes": "default-action"},
                           {"id": "bpc", "name": "BPC", "control": "switch",
                           "title": "Black Pixel Correction",
                           "classes": "default-action"},
                           {"id": "wpc", "name": "WPC", "control": "switch",
                           "title": "White Pixel Correction",
                           "classes": "default-action"},
                           {"id": "raw_gma", "name": "Raw GMA Enable", "control": "switch",
                           "classes": "default-action"},
                           {"id": "lenc", "name": "Lens Correction", "control": "switch",
                           "classes": "default-action"},
                           {"id": "hmirror", "name": "H-Mirror Stream", "control": "switch",
                           "classes": "default-action",
                           "simple":"true"},
                           {"id": "vflip", "name": "V-Flip Stream", "control": "switch",
                           "classes": "default-action",
                           "simple":"true"},
                           {"id": "rotate", "name": "Rotate in Browser", "control": "select",
                           "classes": "default-action",
                           "simple":"true"},
                           {"id": "dcw", "name": "DCW (Downsize EN)", "control": "switch",
                           "title": "When DCW is on, the image that you receive will be the size that you requested (VGA, QQVGA, etc). &#013;When DCW is off, the image that you receive will be one of UXGA, SVGA, or CIF. In other words, literally the actual image size as read from the sensor without any scaling. &#013;Note that if DCW is off, and you pick a different image size, this implicitly turns DCW back on again (although this isn't reflected in the options).",
                           "classes": "default-action"},
                           {"id": "colorbar", "name": "Test Pattern", "control": "switch",
                           "classes": "default-action"},
                           {"id": "stream_url", "name": "Stream URL", "control": "readonly",
                           "hide":"stream_url",
                           "classes": "default-action"}];

    const setLightSlider = (mode) => {
        const lightSlider = document.getElementById('lamp');
        const flashSlider = document.getElementById('flashlamp');
        const autoLamp = document.getElementById('autolamp');

        if(autoLamp.checked) {
            if(mode)
                lightSlider.value = flashSlider.value;
            else
                lightSlider.value = 0;
        }
    };